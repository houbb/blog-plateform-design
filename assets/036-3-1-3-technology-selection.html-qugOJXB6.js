import{_ as l}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as h,d as i,e as n,r as e,o as p}from"./app-JcJB06c7.js";const t={};function k(r,s){const a=e("Mermaid");return p(),h("div",null,[s[0]||(s[0]=i(`<p>在构建统一度量平台时，技术选型是一个至关重要的决策环节。企业需要在自研和基于开源生态构建之间做出选择，每种方案都有其独特的优势和挑战。本节将深入分析这两种技术路线的特点，并重点探讨如何基于开源生态（如Apache Superset、Grafana、Prometheus等）构建度量平台。</p><h2 id="自研-vs-开源生态构建的对比分析" tabindex="-1"><a class="header-anchor" href="#自研-vs-开源生态构建的对比分析"><span>自研 vs. 开源生态构建的对比分析</span></a></h2><h3 id="_1-1-自研方案" tabindex="-1"><a class="header-anchor" href="#_1-1-自研方案"><span>1.1 自研方案</span></a></h3><h4 id="_1-1-1-优势" tabindex="-1"><a class="header-anchor" href="#_1-1-1-优势"><span>1.1.1 优势</span></a></h4><ol><li><strong>完全定制化</strong>：可以根据企业特定需求进行完全定制开发</li><li><strong>知识产权控制</strong>：拥有完整的知识产权和控制权</li><li><strong>技术栈统一</strong>：可以与企业现有技术栈完美集成</li><li><strong>功能专一性</strong>：专注于企业特定场景，避免功能冗余</li><li><strong>安全性控制</strong>：可以完全控制安全策略和实现</li></ol><h4 id="_1-1-2-挑战" tabindex="-1"><a class="header-anchor" href="#_1-1-2-挑战"><span>1.1.2 挑战</span></a></h4><ol><li><strong>开发成本高</strong>：需要投入大量人力和时间进行开发</li><li><strong>维护负担重</strong>：需要长期维护和持续优化</li><li><strong>技术风险大</strong>：可能面临技术选型错误的风险</li><li><strong>人才要求高</strong>：需要高水平的技术团队支撑</li><li><strong>生态缺失</strong>：缺乏成熟的社区支持和插件生态</li></ol><h4 id="_1-1-3-适用场景" tabindex="-1"><a class="header-anchor" href="#_1-1-3-适用场景"><span>1.1.3 适用场景</span></a></h4><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-yaml"><span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">适合自研的场景</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  企业特点</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">技术实力强，拥有充足的研发资源</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">对数据安全和隐私有极高要求</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">业务场景特殊，现有解决方案无法满足</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">有长期战略规划，能够持续投入</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  业务需求</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">需要高度定制化的功能</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">对性能有极致要求</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">需要与现有系统深度集成</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">有独特的业务逻辑和计算需求</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-2-开源生态构建方案" tabindex="-1"><a class="header-anchor" href="#_1-2-开源生态构建方案"><span>1.2 开源生态构建方案</span></a></h3><h4 id="_1-2-1-优势" tabindex="-1"><a class="header-anchor" href="#_1-2-1-优势"><span>1.2.1 优势</span></a></h4><ol><li><strong>成本效益高</strong>：大幅降低初始开发成本</li><li><strong>社区支持强</strong>：拥有活跃的社区和丰富的资源</li><li><strong>成熟度高</strong>：经过多年发展，功能相对完善</li><li><strong>生态丰富</strong>：有大量插件和集成方案可选</li><li><strong>人才储备多</strong>：市场上熟悉开源工具的人才较多</li></ol><h4 id="_1-2-2-挑战" tabindex="-1"><a class="header-anchor" href="#_1-2-2-挑战"><span>1.2.2 挑战</span></a></h4><ol><li><strong>定制化限制</strong>：可能无法完全满足特定需求</li><li><strong>集成复杂度</strong>：多个工具集成可能比较复杂</li><li><strong>版本管理</strong>：需要管理多个开源组件的版本升级</li><li><strong>安全责任</strong>：需要自行负责安全漏洞的跟踪和修复</li><li><strong>技术支持</strong>：商业支持可能需要额外付费</li></ol><h4 id="_1-2-3-适用场景" tabindex="-1"><a class="header-anchor" href="#_1-2-3-适用场景"><span>1.2.3 适用场景</span></a></h4><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-yaml"><span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">适合开源生态的场景</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  企业特点</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">资源有限，希望快速见效</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">技术团队规模中等</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">对成本控制有较高要求</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">希望利用成熟解决方案</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  业务需求</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">需求相对标准化</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">可以接受一定程度的定制化限制</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">注重快速部署和上线</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">希望利用社区最佳实践</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="主流开源工具分析" tabindex="-1"><a class="header-anchor" href="#主流开源工具分析"><span>主流开源工具分析</span></a></h2><h3 id="_2-1-数据采集层工具" tabindex="-1"><a class="header-anchor" href="#_2-1-数据采集层工具"><span>2.1 数据采集层工具</span></a></h3><h4 id="_2-1-1-prometheus" tabindex="-1"><a class="header-anchor" href="#_2-1-1-prometheus"><span>2.1.1 Prometheus</span></a></h4><p><strong>特点</strong>：</p><ul><li>专为云原生环境设计的监控和告警工具</li><li>多维数据模型，强大的查询语言PromQL</li><li>服务发现机制，自动发现监控目标</li><li>高可用性和可扩展性</li></ul><p><strong>适用场景</strong>：</p><ul><li>系统和应用性能监控</li><li>微服务架构监控</li><li>容器化环境监控</li></ul><p><strong>集成方案</strong>：</p><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-yaml"><span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">Prometheus集成方案</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  数据源</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">Kubernetes</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">通过ServiceMonitor自动发现</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">应用程序</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">通过Exporter暴露指标</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">数据库</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">使用专用Exporter</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  存储</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">本地存储</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">默认TSDB存储</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">远程存储</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">支持多种远程存储方案</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  告警</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">Alertmanager</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">告警管理和通知</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">告警规则</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">自定义告警规则</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-1-2-telegraf" tabindex="-1"><a class="header-anchor" href="#_2-1-2-telegraf"><span>2.1.2 Telegraf</span></a></h4><p><strong>特点</strong>：</p><ul><li>高性能的数据采集代理</li><li>支持数百种输入插件</li><li>灵活的输出插件支持</li><li>轻量级且易于部署</li></ul><p><strong>适用场景</strong>：</p><ul><li>系统指标采集</li><li>日志数据收集</li><li>物联网数据采集</li></ul><h3 id="_2-2-数据存储层工具" tabindex="-1"><a class="header-anchor" href="#_2-2-数据存储层工具"><span>2.2 数据存储层工具</span></a></h3><h4 id="_2-2-1-influxdb" tabindex="-1"><a class="header-anchor" href="#_2-2-1-influxdb"><span>2.2.1 InfluxDB</span></a></h4><p><strong>特点</strong>：</p><ul><li>专为时序数据设计的数据库</li><li>高性能写入和查询能力</li><li>丰富的数据分析函数</li><li>内置可视化工具</li></ul><p><strong>适用场景</strong>：</p><ul><li>IoT数据存储和分析</li><li>应用性能监控数据存储</li><li>业务指标数据存储</li></ul><h4 id="_2-2-2-elasticsearch" tabindex="-1"><a class="header-anchor" href="#_2-2-2-elasticsearch"><span>2.2.2 Elasticsearch</span></a></h4><p><strong>特点</strong>：</p><ul><li>分布式搜索引擎</li><li>强大的全文检索能力</li><li>实时数据分析功能</li><li>水平扩展能力强</li></ul><p><strong>适用场景</strong>：</p><ul><li>日志数据分析</li><li>全文搜索应用</li><li>实时数据分析</li></ul><h3 id="_2-3-数据展示层工具" tabindex="-1"><a class="header-anchor" href="#_2-3-数据展示层工具"><span>2.3 数据展示层工具</span></a></h3><h4 id="_2-3-1-grafana" tabindex="-1"><a class="header-anchor" href="#_2-3-1-grafana"><span>2.3.1 Grafana</span></a></h4><p><strong>特点</strong>：</p><ul><li>强大的数据可视化能力</li><li>支持多种数据源</li><li>丰富的图表类型</li><li>灵活的仪表板配置</li></ul><p><strong>适用场景</strong>：</p><ul><li>系统监控可视化</li><li>业务指标展示</li><li>实时数据监控</li></ul><p><strong>集成示例</strong>：</p><div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-json"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  &quot;dashboard&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    &quot;title&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;系统监控概览&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    &quot;panels&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: [</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">        &quot;type&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;graph&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">        &quot;title&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;CPU使用率&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">        &quot;datasource&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Prometheus&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">        &quot;targets&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: [</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">          {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">            &quot;expr&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;100 - (avg by (instance) (irate(node_cpu_seconds_total{mode=</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\\&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">idle</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\\&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">}[5m])) * 100)&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">            &quot;legendFormat&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;{{instance}}&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">          }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        ]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      },</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">        &quot;type&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;stat&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">        &quot;title&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;内存使用率&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">        &quot;datasource&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Prometheus&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">        &quot;targets&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: [</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">          {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">            &quot;expr&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;(node_memory_MemTotal_bytes - node_memory_MemAvailable_bytes) / node_memory_MemTotal_bytes * 100&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">            &quot;legendFormat&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Memory Usage&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">          }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        ]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    ]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-3-2-apache-superset" tabindex="-1"><a class="header-anchor" href="#_2-3-2-apache-superset"><span>2.3.2 Apache Superset</span></a></h4><p><strong>特点</strong>：</p><ul><li>企业级数据可视化和探索平台</li><li>支持SQL编辑和可视化拖拽</li><li>丰富的图表类型和自定义能力</li><li>强大的数据权限管理</li></ul><p><strong>适用场景</strong>：</p><ul><li>商业智能分析</li><li>数据探索和发现</li><li>复杂报表生成</li></ul><h2 id="基于开源生态的平台架构设计" tabindex="-1"><a class="header-anchor" href="#基于开源生态的平台架构设计"><span>基于开源生态的平台架构设计</span></a></h2><h3 id="_3-1-分层架构设计" tabindex="-1"><a class="header-anchor" href="#_3-1-分层架构设计"><span>3.1 分层架构设计</span></a></h3>`,56)),n(a,{code:"eJxlkb9OwlAUxnefoi/A0JbZBFqKRE0wsJ04XPAihFpI/0RZ0dhoJGEAMWiCGkiIiShxURh8GdrCW1h7WuTGDh1+v3t6v37nWCf1MpeXtzj/SYDbfXdbE3fWdqbNQy4W2+aSIVvZ9ur+8hcHR5OBlELpvN45zfFaSoGUIzm88Np/k3IgU9FVDy3n+mktU4FUoslp1xvO1hIz8uDMOl5n7PZGzncPQyZQCeB9zL35wL2x3UebUSIsPvv+TfhhRsXBGd6uzseJbGaT42/ykKcq9VsqhXUgFkCpqLRAiclgEbJ67YSaZWoZjIjDLilVCSfVNI0WmSFsjIeMVlKtMzmJTkIsQEolhlkpGpToxTLjRJDUSrG6U7MMyog47DdyB3ubDJvnMQUKXLksQK5O9CrDRFDUisYw3A4Pfklcmpj0lDRQp9AIgKXjPhklgjsYLd+e/6vgpfCQ9uslWphLQernsupUN2hYVohFWNovzqS/+LqSiVEu1Ih+FB34AeW98tk="}),s[1]||(s[1]=i(`<h3 id="_3-2-核心组件选型" tabindex="-1"><a class="header-anchor" href="#_3-2-核心组件选型"><span>3.2 核心组件选型</span></a></h3><h4 id="_3-2-1-数据采集组件" tabindex="-1"><a class="header-anchor" href="#_3-2-1-数据采集组件"><span>3.2.1 数据采集组件</span></a></h4><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-yaml"><span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">数据采集方案</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  日志采集</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">工具</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">Filebeat + Logstash</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">特点</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">轻量级，支持多种日志格式</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">配置示例</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      filebeat.inputs</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">type</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">log</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">          enabled</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">true</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">          paths</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">            - </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">/var/log/*.log</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">          fields</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">            service</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">webapp</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  指标采集</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">工具</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">Prometheus + Exporters</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">特点</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">多维数据模型，强大的查询能力</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">配置示例</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      scrape_configs</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">job_name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;node&#39;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">          static_configs</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">            - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">targets</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: [</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;localhost:9100&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  业务数据采集</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">工具</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">Kafka Connect</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">特点</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">支持多种数据源，实时同步</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">配置示例</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      connector.class</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">io.debezium.connector.mysql.MySqlConnector</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      database.hostname</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">mysql-host</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      database.port</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3306</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-2-2-数据存储组件" tabindex="-1"><a class="header-anchor" href="#_3-2-2-数据存储组件"><span>3.2.2 数据存储组件</span></a></h4><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-yaml"><span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">数据存储方案</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  时序数据</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">工具</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">InfluxDB</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">特点</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">专为时序数据优化，高性能读写</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">应用场景</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">系统监控指标、IoT数据</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  日志数据</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">工具</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">Elasticsearch</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">特点</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">全文检索，实时分析</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">应用场景</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">应用日志、错误日志</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  业务数据</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">工具</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">ClickHouse</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">特点</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">列式存储，OLAP分析</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">应用场景</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">大数据分析、报表生成</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-2-3-数据展示组件" tabindex="-1"><a class="header-anchor" href="#_3-2-3-数据展示组件"><span>3.2.3 数据展示组件</span></a></h4><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-yaml"><span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">数据展示方案</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  实时监控</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">工具</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">Grafana</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">特点</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">实时可视化，告警集成</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">应用场景</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">系统监控、业务指标实时展示</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  商业智能</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">工具</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">Apache Superset</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">特点</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">拖拽式分析，SQL编辑</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">应用场景</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">数据探索、复杂报表</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  自定义展示</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">工具</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">自研Dashboard</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">特点</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">完全定制化，与业务深度集成</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">应用场景</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">特定业务场景的可视化展示</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="开源生态集成方案" tabindex="-1"><a class="header-anchor" href="#开源生态集成方案"><span>开源生态集成方案</span></a></h2><h3 id="_4-1-统一认证和授权" tabindex="-1"><a class="header-anchor" href="#_4-1-统一认证和授权"><span>4.1 统一认证和授权</span></a></h3><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-yaml"><span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">统一认证方案</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  认证中心</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">工具</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">Keycloak</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">功能</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">用户管理、单点登录</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  权限管理</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">工具</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">自研权限服务</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">功能</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">角色管理、数据权限控制</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  集成方式</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">OAuth2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">各组件通过OAuth2集成</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">JWT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">使用JWT传递用户信息</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">RBAC</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">基于角色的访问控制</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-2-统一配置管理" tabindex="-1"><a class="header-anchor" href="#_4-2-统一配置管理"><span>4.2 统一配置管理</span></a></h3><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-yaml"><span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">配置管理方案</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  配置中心</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">工具</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">Consul + Vault</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">功能</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">配置存储、密钥管理</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  配置同步</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">工具</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">Consul Template</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">功能</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">配置变更自动同步</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  配置监控</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">工具</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">自研配置监控服务</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">功能</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">配置变更审计、异常告警</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-3-统一监控和告警" tabindex="-1"><a class="header-anchor" href="#_4-3-统一监控和告警"><span>4.3 统一监控和告警</span></a></h3><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-yaml"><span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">监控告警方案</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  基础监控</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">工具</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">Prometheus + Node Exporter</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">功能</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">系统指标监控</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  应用监控</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">工具</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">Prometheus + 应用Exporter</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">功能</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">应用性能监控</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  告警管理</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">工具</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">Alertmanager</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">功能</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">告警路由、通知管理</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  日志监控</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">工具</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">ELK Stack</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">功能</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">日志收集、分析、告警</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="实施案例" tabindex="-1"><a class="header-anchor" href="#实施案例"><span>实施案例</span></a></h2><h3 id="_5-1-案例1-某互联网公司的开源生态构建" tabindex="-1"><a class="header-anchor" href="#_5-1-案例1-某互联网公司的开源生态构建"><span>5.1 案例1：某互联网公司的开源生态构建</span></a></h3><p>该公司基于以下方案构建了度量平台：</p><ol><li><p><strong>技术选型</strong>：</p><ul><li>数据采集：Prometheus + Telegraf + Filebeat</li><li>数据存储：InfluxDB + Elasticsearch</li><li>数据展示：Grafana + Superset</li><li>消息队列：Kafka</li><li>处理引擎：Flink</li></ul></li><li><p><strong>实施效果</strong>：</p><ul><li>平台建设周期：3个月</li><li>成本节约：相比自研节约60%成本</li><li>功能覆盖：满足90%以上业务需求</li><li>团队接受度：技术团队快速上手</li></ul></li></ol><h3 id="_5-2-案例2-某金融机构的混合方案" tabindex="-1"><a class="header-anchor" href="#_5-2-案例2-某金融机构的混合方案"><span>5.2 案例2：某金融机构的混合方案</span></a></h3><p>该机构采用自研+开源的混合方案：</p><ol><li><p><strong>核心模块自研</strong>：</p><ul><li>数据安全模块</li><li>合规审计模块</li><li>核心业务指标计算</li></ul></li><li><p><strong>通用功能开源</strong>：</p><ul><li>数据采集：Telegraf</li><li>数据存储：Elasticsearch</li><li>数据展示：Grafana</li></ul></li><li><p><strong>实施效果</strong>：</p><ul><li>满足合规要求</li><li>控制开发成本</li><li>保证系统稳定</li><li>快速响应业务需求</li></ul></li></ol><h2 id="实施建议" tabindex="-1"><a class="header-anchor" href="#实施建议"><span>实施建议</span></a></h2><h3 id="_6-1-选型原则" tabindex="-1"><a class="header-anchor" href="#_6-1-选型原则"><span>6.1 选型原则</span></a></h3><ol><li><strong>业务匹配度</strong>：选择最匹配业务需求的方案</li><li><strong>技术成熟度</strong>：优先选择成熟稳定的开源项目</li><li><strong>社区活跃度</strong>：关注项目的社区活跃度和更新频率</li><li><strong>团队技能</strong>：考虑团队的技术栈和学习能力</li><li><strong>成本效益</strong>：综合考虑TCO（总拥有成本）</li></ol><h3 id="_6-2-实施步骤" tabindex="-1"><a class="header-anchor" href="#_6-2-实施步骤"><span>6.2 实施步骤</span></a></h3>`,25)),n(a,{code:"eJxNzD0OgkAUBODeU3ABr2CiImBv90JhpaXxBCjGIBDFRIkFWaUzFqBGjT8gl2Efyy0ku41TzjeZwbg/Gko9uSZVaUIZGHiZUmuOxNOler0htQBtA4OYnc3isNH5rsWlDei/MLRKY0GJI6TNRQa63FddeXJZPBEic+kAkgeSGYu+LAqFdLgoQBODrtY0IuinQhQuKuDdYfH2/03lokH+tIt3VprHIr0K0bh0gWVe8bnlyY66vl77ARMsZWY="}),s[2]||(s[2]=i('<h3 id="_6-3-风险控制" tabindex="-1"><a class="header-anchor" href="#_6-3-风险控制"><span>6.3 风险控制</span></a></h3><ol><li><p><strong>技术风险</strong>：</p><ul><li>建立技术评估机制</li><li>制定备选方案</li><li>定期技术评审</li></ul></li><li><p><strong>安全风险</strong>：</p><ul><li>建立安全审计机制</li><li>及时跟踪安全漏洞</li><li>实施安全加固措施</li></ul></li><li><p><strong>运维风险</strong>：</p><ul><li>建立监控告警体系</li><li>制定应急预案</li><li>培养运维团队</li></ul></li></ol><h2 id="总结" tabindex="-1"><a class="header-anchor" href="#总结"><span>总结</span></a></h2><p>技术选型是度量平台建设的关键决策。自研方案提供完全的定制化能力，但成本高、风险大；开源生态构建方案成本低、成熟度高，但可能存在定制化限制。企业应根据自身情况选择合适的方案，或采用混合方案以平衡各方面需求。</p><p>在下一节中，我们将探讨如何制定从统一数据采集到智能分析洞察的演进路线图。</p>',5))])}const B=l(t,[["render",k]]),A=JSON.parse('{"path":"/posts/measure/036-3-1-3-technology-selection.html","title":"技术选型: 自研 vs. 基于开源（如Apache Superset、Grafana、Prometheus）生态构建","lang":"zh-CN","frontmatter":{"title":"技术选型: 自研 vs. 基于开源（如Apache Superset、Grafana、Prometheus）生态构建","date":"2025-08-30T00:00:00.000Z","categories":["Measure"],"tags":["Measure"],"published":true,"description":"在构建统一度量平台时，技术选型是一个至关重要的决策环节。企业需要在自研和基于开源生态构建之间做出选择，每种方案都有其独特的优势和挑战。本节将深入分析这两种技术路线的特点，并重点探讨如何基于开源生态（如Apache Superset、Grafana、Prometheus等）构建度量平台。 自研 vs. 开源生态构建的对比分析 1.1 自研方案 1.1.1...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"技术选型: 自研 vs. 基于开源（如Apache Superset、Grafana、Prometheus）生态构建\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2025-08-30T00:00:00.000Z\\",\\"dateModified\\":\\"2025-09-07T09:02:25.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"老马啸西风\\",\\"url\\":\\"https://houbb.github.io\\"}]}"],["meta",{"property":"og:url","content":"https://houbb.github.io/blog-plateform-design/posts/measure/036-3-1-3-technology-selection.html"}],["meta",{"property":"og:site_name","content":"老马啸西风"}],["meta",{"property":"og:title","content":"技术选型: 自研 vs. 基于开源（如Apache Superset、Grafana、Prometheus）生态构建"}],["meta",{"property":"og:description","content":"在构建统一度量平台时，技术选型是一个至关重要的决策环节。企业需要在自研和基于开源生态构建之间做出选择，每种方案都有其独特的优势和挑战。本节将深入分析这两种技术路线的特点，并重点探讨如何基于开源生态（如Apache Superset、Grafana、Prometheus等）构建度量平台。 自研 vs. 开源生态构建的对比分析 1.1 自研方案 1.1.1..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-09-07T09:02:25.000Z"}],["meta",{"property":"article:tag","content":"Measure"}],["meta",{"property":"article:published_time","content":"2025-08-30T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-09-07T09:02:25.000Z"}]]},"git":{"createdTime":1757168950000,"updatedTime":1757235745000,"contributors":[{"name":"bbhou","username":"bbhou","email":"1557740299@qq.com","commits":6,"url":"https://github.com/bbhou"}]},"readingTime":{"minutes":9.07,"words":2722},"filePathRelative":"posts/measure/036-3-1-3-technology-selection.md","excerpt":"<p>在构建统一度量平台时，技术选型是一个至关重要的决策环节。企业需要在自研和基于开源生态构建之间做出选择，每种方案都有其独特的优势和挑战。本节将深入分析这两种技术路线的特点，并重点探讨如何基于开源生态（如Apache Superset、Grafana、Prometheus等）构建度量平台。</p>\\n<h2>自研 vs. 开源生态构建的对比分析</h2>\\n<h3>1.1 自研方案</h3>\\n<h4>1.1.1 优势</h4>\\n<ol>\\n<li><strong>完全定制化</strong>：可以根据企业特定需求进行完全定制开发</li>\\n<li><strong>知识产权控制</strong>：拥有完整的知识产权和控制权</li>\\n<li><strong>技术栈统一</strong>：可以与企业现有技术栈完美集成</li>\\n<li><strong>功能专一性</strong>：专注于企业特定场景，避免功能冗余</li>\\n<li><strong>安全性控制</strong>：可以完全控制安全策略和实现</li>\\n</ol>","autoDesc":true}');export{B as comp,A as data};
